"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AList = void 0;
var AList = /** @class */ (function () {
    function AList() {
        this.array = [];
        this.size = 0;
    }
    AList.prototype.add = function (item) {
        this.array[this.size] = item;
        this.size++;
    };
    AList.prototype.clear = function () {
        this.array.length = 0;
        this.size = 0;
        return this.array;
    };
    AList.prototype.contains = function (item) {
        for (var i = 0; i < this.size; i++) {
            var element = this.array[i];
            if (element === item) {
                return true;
            }
        }
        return false;
    };
    AList.prototype.get = function (index) {
        return this.array[index];
    };
    AList.prototype.getSize = function () {
        return this.size;
    };
    AList.prototype.halfReverse = function () {
        var oldArray = this.array;
        var firstPartLen = Math.floor(oldArray.length / 2);
        var secondPartLen = oldArray.length - firstPartLen;
        var newArr = [];
        for (var i = 0; i < secondPartLen; i++) {
            newArr[i] = oldArray[i + firstPartLen];
        }
        for (var i = 0; i < firstPartLen; i++) {
            newArr[i + secondPartLen] = oldArray[i];
        }
        return newArr;
    };
    AList.prototype.maxIndex = function () {
        var max;
        for (var i = 0; i < this.size; i++) {
            if (i === 0) {
                max = i;
            }
            if (max < this.array[i]) {
                max = i;
            }
        }
        return max;
    };
    AList.prototype.minIndex = function () {
        var min;
        for (var i = 0; i < this.size; i++) {
            if (i === 0) {
                min = i;
            }
            if (min > this.array[i]) {
                min = i;
            }
        }
        return min;
    };
    AList.prototype.maxValue = function () {
        var max = this.array[0];
        for (var i = 0; i < this.array.length; i++) {
            if (max < this.array[i]) {
                max = this.array[i];
            }
        }
        return max;
    };
    AList.prototype.minValue = function () {
        var min = this.array[0];
        for (var i = 0; i < this.array.length; i++) {
            if (min > this.array[i]) {
                min = this.array[i];
            }
        }
        return min;
    };
    AList.prototype.print = function () {
        for (var i = 0; i < this.size; i++) {
            console.log(this.array[i]);
        }
        return this.array;
    };
    AList.prototype.remove = function (item) {
        var oldArray = this.array;
        this.array = [];
        this.size = 0;
        var returnValue;
        for (var i = 0; i < oldArray.length; i++) {
            var element = oldArray[i];
            if (element !== item) {
                this.add(element);
            }
            else {
                returnValue = element;
            }
        }
        return returnValue;
    };
    AList.prototype.removeAll = function (items) {
        var oldArray = this.array;
        for (var i = 0; i < oldArray.length; i++) {
            for (var j = 0; j < items.length; j++) {
                if (oldArray[i] === items[j]) {
                    oldArray[i] = undefined;
                    this.size--;
                }
            }
        }
        return oldArray;
    };
    AList.prototype.retainAll = function (items) {
        var oldArray = this.array;
        for (var i = 0; i < oldArray.length; i++) {
            var checker = false;
            for (var j = 0; j < items.length; j++) {
                var innerItem = items[j];
                if (oldArray[i] === innerItem) {
                    checker = true;
                    break;
                }
            }
            if (!checker) {
                oldArray[i] = undefined;
                this.size--;
            }
        }
        return oldArray;
    };
    AList.prototype.reverse = function () {
        var oldArray = this.array;
        var newArr = [];
        for (var i = 0; i < oldArray.length; i++) {
            newArr[i] = oldArray[oldArray.length - i - 1];
        }
        return newArr;
    };
    AList.prototype.set = function (item, index) {
        var oldArray = this.array;
        this.array = [];
        this.size = 0;
        if (index < 0) {
            console.log(false);
        }
        for (var i = 0; i < oldArray.length; i++) {
            var element = oldArray[i];
            if (i === index) {
                this.add(item);
            }
            else {
                this.add(element);
            }
        }
        return this.array;
    };
    AList.prototype.sort = function () {
        var oldArray = this.array;
        for (var i = 0, endI = oldArray.length - 1; i < endI; i++) {
            var wasSwap = false;
            for (var j = 0, endJ = endI - i; j < endJ; j++) {
                if (oldArray[j] > oldArray[j + 1]) {
                    var swap = oldArray[j];
                    oldArray[j] = oldArray[j + 1];
                    oldArray[j + 1] = swap;
                    wasSwap = true;
                }
            }
            if (!wasSwap)
                break;
        }
        return oldArray;
    };
    AList.prototype.toArray = function () {
        return this.array;
    };
    AList.prototype.toString = function () {
        var oldArray = this.array;
        var str = '';
        for (var i = 0; i < oldArray.length; i++) {
            str += oldArray[i];
        }
        return str;
    };
    return AList;
}());
exports.AList = AList;

//# sourceMappingURL=data:application/json;charset=utf8;base64,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Q0FBQTtvQkFDdEIsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUE7b0JBQzdCLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFBO29CQUN0QixPQUFPLEdBQUcsSUFBSSxDQUFBO2lCQUNqQjthQUNKO1lBQ0QsSUFBSSxDQUFDLE9BQU87Z0JBQUUsTUFBSztTQUN0QjtRQUNELE9BQU8sUUFBUSxDQUFBO0lBQ25CLENBQUM7SUFFRCx1QkFBTyxHQUFQO1FBQ0ksT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3RCLENBQUM7SUFFRCx3QkFBUSxHQUFSO1FBQ0ksSUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQTtRQUMzQixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUE7UUFDWixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN0QyxHQUFHLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQ3JCO1FBQ0QsT0FBTyxHQUFHLENBQUE7SUFDZCxDQUFDO0lBQ0wsWUFBQztBQUFELENBMU5BLEFBME5DLElBQUE7QUExTlksc0JBQUsiLCJmaWxlIjoiQUxpc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0lMaXN0fSBmcm9tIFwiLi90eXBlc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFMaXN0IGltcGxlbWVudHMgSUxpc3Qge1xyXG4gICAgcHJpdmF0ZSBhcnJheTogbnVtYmVyW11cclxuICAgIHByaXZhdGUgc2l6ZTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuYXJyYXkgPSBbXTtcclxuICAgICAgICB0aGlzLnNpemUgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZChpdGVtOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFycmF5W3RoaXMuc2l6ZV0gPSBpdGVtO1xyXG4gICAgICAgIHRoaXMuc2l6ZSsrO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyKCk6IG51bWJlcltdIHtcclxuICAgICAgICB0aGlzLmFycmF5Lmxlbmd0aCA9IDA7XHJcbiAgICAgICAgdGhpcy5zaXplID0gMDtcclxuICAgICAgICByZXR1cm4gdGhpcy5hcnJheVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnRhaW5zKGl0ZW0pOiBib29sZWFuIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmFycmF5W2ldO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudCA9PT0gaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldChpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hcnJheVtpbmRleF07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U2l6ZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgaGFsZlJldmVyc2UoKTogbnVtYmVyW10ge1xyXG4gICAgICAgIGNvbnN0IG9sZEFycmF5ID0gdGhpcy5hcnJheVxyXG4gICAgICAgIGNvbnN0IGZpcnN0UGFydExlbiA9IE1hdGguZmxvb3Iob2xkQXJyYXkubGVuZ3RoIC8gMilcclxuICAgICAgICBjb25zdCBzZWNvbmRQYXJ0TGVuID0gb2xkQXJyYXkubGVuZ3RoIC0gZmlyc3RQYXJ0TGVuXHJcbiAgICAgICAgY29uc3QgbmV3QXJyID0gW11cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlY29uZFBhcnRMZW47IGkrKykge1xyXG4gICAgICAgICAgICBuZXdBcnJbaV0gPSBvbGRBcnJheVtpICsgZmlyc3RQYXJ0TGVuXVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpcnN0UGFydExlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIG5ld0FycltpICsgc2Vjb25kUGFydExlbl0gPSBvbGRBcnJheVtpXVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3QXJyXHJcbiAgICB9XHJcblxyXG4gICAgbWF4SW5kZXgoKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgbWF4O1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zaXplOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIG1heCA9IGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1heCA8IHRoaXMuYXJyYXlbaV0pIHtcclxuICAgICAgICAgICAgICAgIG1heCA9IGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1heDtcclxuICAgIH1cclxuXHJcbiAgICBtaW5JbmRleCgpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBtaW47XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNpemU7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgbWluID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobWluID4gdGhpcy5hcnJheVtpXSkge1xyXG4gICAgICAgICAgICAgICAgbWluID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWluO1xyXG4gICAgfVxyXG5cclxuICAgIG1heFZhbHVlKCk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IG1heCA9IHRoaXMuYXJyYXlbMF1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKG1heCA8IHRoaXMuYXJyYXlbaV0pIHtcclxuICAgICAgICAgICAgICAgIG1heCA9IHRoaXMuYXJyYXlbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1heDtcclxuICAgIH1cclxuXHJcbiAgICBtaW5WYWx1ZSgpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBtaW4gPSB0aGlzLmFycmF5WzBdO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmFycmF5Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgaWYgKG1pbiA+IHRoaXMuYXJyYXlbaV0pIHtcclxuICAgICAgICAgICAgICAgIG1pbiA9IHRoaXMuYXJyYXlbaV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWluO1xyXG4gICAgfVxyXG5cclxuICAgIHByaW50KCk6IG51bWJlcltdIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYXJyYXlbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5hcnJheVxyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZShpdGVtKTogbnVtYmVyIHtcclxuICAgICAgICBjb25zdCBvbGRBcnJheSA9IHRoaXMuYXJyYXk7XHJcbiAgICAgICAgdGhpcy5hcnJheSA9IFtdO1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XHJcbiAgICAgICAgbGV0IHJldHVyblZhbHVlO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9sZEFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBvbGRBcnJheVtpXTtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT09IGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBlbGVtZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcmVtb3ZlQWxsKGl0ZW1zOiBudW1iZXJbXSk6IG51bWJlcltdIHtcclxuICAgICAgICBjb25zdCBvbGRBcnJheSA9IHRoaXMuYXJyYXk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2xkQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpdGVtcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9sZEFycmF5W2ldID09PSBpdGVtc1tqXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9sZEFycmF5W2ldID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2l6ZS0tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvbGRBcnJheTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmV0YWluQWxsKGl0ZW1zOiBudW1iZXJbXSk6IG51bWJlcltdIHtcclxuICAgICAgICBjb25zdCBvbGRBcnJheSA9IHRoaXMuYXJyYXk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2xkQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGNoZWNrZXIgPSBmYWxzZVxyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGl0ZW1zLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbm5lckl0ZW0gPSBpdGVtc1tqXTtcclxuICAgICAgICAgICAgICAgIGlmIChvbGRBcnJheVtpXSA9PT0gaW5uZXJJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFjaGVja2VyKSB7XHJcbiAgICAgICAgICAgICAgICBvbGRBcnJheVtpXSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZS0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gb2xkQXJyYXk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV2ZXJzZSgpOiBudW1iZXJbXSB7XHJcbiAgICAgICAgY29uc3Qgb2xkQXJyYXkgPSB0aGlzLmFycmF5O1xyXG4gICAgICAgIGNvbnN0IG5ld0FyciA9IFtdXHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2xkQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbmV3QXJyW2ldID0gb2xkQXJyYXlbb2xkQXJyYXkubGVuZ3RoIC0gaSAtIDFdXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXdBcnJcclxuICAgIH1cclxuXHJcbiAgICBzZXQoaXRlbSwgaW5kZXg6IG51bWJlcik6IG51bWJlcltdIHtcclxuICAgICAgICBjb25zdCBvbGRBcnJheSA9IHRoaXMuYXJyYXk7XHJcbiAgICAgICAgdGhpcy5hcnJheSA9IFtdO1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XHJcblxyXG4gICAgICAgIGlmKGluZGV4IDwgMCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2xkQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IG9sZEFycmF5W2ldO1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGl0ZW0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJyYXk7XHJcbiAgICB9XHJcblxyXG4gICAgc29ydCgpOiBudW1iZXJbXSB7XHJcbiAgICAgICAgbGV0IG9sZEFycmF5ID0gdGhpcy5hcnJheVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgZW5kSSA9IG9sZEFycmF5Lmxlbmd0aCAtIDE7IGkgPCBlbmRJOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHdhc1N3YXAgPSBmYWxzZVxyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgZW5kSiA9IGVuZEkgLSBpOyBqIDwgZW5kSjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob2xkQXJyYXlbal0gPiBvbGRBcnJheVtqICsgMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3dhcCA9IG9sZEFycmF5W2pdXHJcbiAgICAgICAgICAgICAgICAgICAgb2xkQXJyYXlbal0gPSBvbGRBcnJheVtqICsgMV1cclxuICAgICAgICAgICAgICAgICAgICBvbGRBcnJheVtqICsgMV0gPSBzd2FwXHJcbiAgICAgICAgICAgICAgICAgICAgd2FzU3dhcCA9IHRydWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXdhc1N3YXApIGJyZWFrXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvbGRBcnJheVxyXG4gICAgfVxyXG5cclxuICAgIHRvQXJyYXkoKTogbnVtYmVyW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFycmF5O1xyXG4gICAgfVxyXG5cclxuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3Qgb2xkQXJyYXkgPSB0aGlzLmFycmF5XHJcbiAgICAgICAgbGV0IHN0ciA9ICcnXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvbGRBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzdHIgKz0gb2xkQXJyYXlbaV1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0clxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIuLiJ9
